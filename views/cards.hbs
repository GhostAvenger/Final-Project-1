<!doctype html>

<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Card Game</title>
    <script src="../functions.js"></script>
</head>

<body>
    <h1>Card Game</h1>
    <br>
    <a href="/">Welcome Page</a>
    <br>
    <a href="nasa">Nasa Images</a>
    <br>
    <a href="cards">Card Game</a>
    <form>
        Number of Cards to draw:<br>
        <input type="text" name="numOfCards" value="Input Number of Cards">
        <br><br>
        <input type="submit" value="Submit" onclick="getCards(document.getElementById('numOfCards'))">
    </form>

    <script>
        function getCards() {
        console.log('Loading Cards');
        request({
            url: 'https://deckofcardsapi.com/api/deck/new/draw/?count=' + encodeURIComponent(3),
            json: true
        }, (error, response, body) => {
            if (error) {
                console.log('Cannot connect to Cards API');
            }
            else if (len(body.cards) === 0) {
                console.log('Cannot request 0 cards');
            }
            else {
                for (card in body.cards) {
                    var x = document.createElement("IMG");
                    x.setAttribute("src", "body.cards[card].image)");
                    x.setAttribute("width", "304");
                    x.setAttribute("height", "228");
                    x.setAttribute("alt", "The Pulpit Rock");
                    document.body.appendChild(x);
                }
            }
        });
    };
    </script>
</body>
</html>